<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Cart</title>
    <link rel="stylesheet" href="static/cart.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      function removefromCart(product_name) {
        $.ajax({
          type: "GET",
          url: "/cart/removefromcart/" + product_name,
          success: function (response) {
            window.location.reload();
            // Optionally, update the cart display or take further actions
          },
          error: function (error) {
            // Handle error scenarios
          },
        });
      }
    </script>
  </head>
  <body>
    <h1>Cart</h1>
    <table>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
      </tr>
      {% for item in cart %}
      <tr>
        <td>{{ item[0]}}</td>
        <td>{{ item[1] }}</td>
        <td>{{ item[2] }}</td>
        <td>{{ item[3] }}</td>
        <td>
          <button onclick="removefromCart('{{ item[1] }}')">
            Remove From Cart
          </button>
        </td>
      </tr>
      {% endfor %}
    </table>
    <p>Total: ${{ total }}</p>
  </body>
</html>

    
